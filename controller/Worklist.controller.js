/*
 * Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["i2d/qm/inspresults/records1/controller/BaseController","sap/ui/model/json/JSONModel","i2d/qm/inspresults/records1/model/formatter","sap/m/Table","sap/m/MessageBox","sap/ui/generic/app/navigation/service/NavigationHandler"],function(B,J,f,T,M,N){"use strict";return B.extend("i2d.qm.inspresults.records1.controller.Worklist",{formatter:f,onInit:function(){this._oResourceBundle=this.getResourceBundle();this._oRouter=this.getOwnerComponent().getRouter();this._oSelectedTab=this.Constants.WorkListTabKey.InspLot;this._oFilterBar=this.byId("qr_filterBar");this._oStatusText=this.byId("statusText");this._oOperationsTable=this.byId("operationsTable");this._oOperationsSmartTable=this.byId("inspLotByOperationSmartTable");this._oSelectedTable=this.byId("inspectionLotTable");this._oInspectionLotTable=this.byId("inspectionLotTable");this._oInspectionLotSmartTable=this.byId("inspectionLotSmartTable");this._oPhysicalSampleTable=this.byId("physicalSampleTable");this._oPhysicalSampleSmartTable=this.byId("inspLotByMtrSmplSmartTable");this._oMasterCharacteristics=this.byId("masterCharacteristics");this._oMasterCharacteristicsSmartTable=this.byId("masterCharacteristicsSmartTable");this._oMassRecordButton=this.byId("QR_MASS_RECORD_BUTTON");var i=new J();this.setModel(i,"workListView");this._oOperation="";this._oInspectionLot="";this._oInspSubsetFieldCombination="";this._initSmartTables();this._oRouter.getRoute("worklist").attachMatched(this.onRouteMatch.bind(this),this);this._fnNavBack=undefined;var b=sap.ui.getCore().getEventBus();b.subscribe("i2d.qm.inspresults.records1.event","replaceNavBack",this.setNavBack,this);this._initFreeTextFieldsMetadata();this._oFilterBar.attachInitialized(this.onFilterBarInitialized.bind(this));var s=this.getOwnerComponent().getModel().getServiceMetadata();if(!s){this.getOwnerComponent().getModel().attachMetadataLoaded(this._ignoreDigitalSignatureFields,this);}else{this._ignoreDigitalSignatureFields();}this._oStatusText.attachBrowserEvent("click",this.setHeaderExpanded.bind(this));this.initAppState();},setHeaderExpanded:function(e){this.byId("qr_WorkList_Page").setHeaderExpanded(true);},_ignoreDigitalSignatureFields:function(m){var t=this;var o=this.getOwnerComponent().getModel().getMetaModel().loaded();o.then(function(){var a=t.getOwnerComponent().getModel().getMetaModel();var d=a.getODataEntityType("QM_RR_SRV.C_Qm_Inspectlot_FilterbarType").property.filter(function(b){return b.name=='InspLotDigitalSgntrInUsgeDcsn';})[0];if(d===undefined){if(t._oInspectionLotSmartTable!==undefined){t._oInspectionLotSmartTable.setIgnoreFromPersonalisation("InspLotDigitalSgntrInUsgeDcsn,InspLotDigitalSgntrResultsRecg");t._oPhysicalSampleSmartTable.destroy();}}},function(e){});},setNavBack:function(c,e,d){this._fnNavBack=d.navBackHandler;},onRouteMatch:function(){if(this._fnNavBack){var b=sap.ui.getCore().byId("backBtn");b.onclick=this._fnNavBack;this._fnNavBack=undefined;this._oSelectedTable.getModel().refresh();}if(this._oSelectedTable){this.onInspectionLotChange();}},onExit:function(){if(this._fnNavBack){var b=sap.ui.getCore().byId("backBtn");b.onclick=this._fnNavBack;this._fnNavBack=undefined;}var a=sap.ui.getCore().getEventBus();a.unsubscribe("i2d.qm.inspresults.records1.event","replaceNavBack",this.setNavBack,this);},updateFilters:function(c){var v=["InspectionLot","Plant","Material","InspectionLotOrigin","InspectionLotEndDate","InspLotRsltRecgStatus"],a=c.displayFilters,F=c.filterData;this._oFilterBar.setCurrentVariantId(c.variantId);var d=jQuery.grep(a,function(h,i){return jQuery.inArray(h,v)!==-1;});var A=jQuery.grep(a,function(n,i){return jQuery.inArray(n,v)===-1;});var b=this._oFilterBar.getFilterItems();for(var i=0;i<b.length;i++){if(jQuery.inArray(b[i].getName(),d)===-1){b[i].setVisibleInFilterBar(false);}}for(var i=0;i<A.length;i++){this._oFilterBar.addFieldToAdvancedArea(A[i]);}var e=[];for(var I in F){e.push(I);}var g=this._oFilterBar.getFilterGroupItems();for(var i=0;i<g.length;i++){if(jQuery.inArray(g[i].getName(),e)!==-1){g[i].setPartOfCurrentVariant(true);}}this._oFilterBar.setFilterData(F,true);},initAppState:function(){this.oNavigationHandler=new N(this);var p=this.oNavigationHandler.parseNavigation();this.customDataForRefresh=null;this.customDataForCrossApp=null;p.done(function(a,u,n){if(n===sap.ui.generic.app.navigation.service.NavType.iAppState){if(!jQuery.isEmptyObject(a.customData)){var I=this.byId("QR_ICONTABBAR");this.updateFilters(a.customData);if(this._oFilterBar.getFilterData()===null&&a.customData.filterData){this.customDataForRefresh=a.customData;}if(a.customData.tabSelectedKey===this.Constants.WorkListTabKey.PhysicalSample){this.byId("qrWorkListId-PhysicalSample").setVisible(true);}I.setSelectedKey(a.customData.tabSelectedKey);I.fireSelect();this._oInspectionLotSmartTable.setCurrentVariantId(a.customData.lotTableVariantId);this._oInspectionLotSmartTable.applyVariant(a.customData.lotTableVariant);this._oOperationsSmartTable.setCurrentVariantId(a.customData.operationTableVariantId);this._oOperationsSmartTable.applyVariant(a.customData.operationTableVariant);this._oPhysicalSampleSmartTable.setCurrentVariantId(a.customData.sampleTableVariantId);this._oPhysicalSampleSmartTable.applyVariant(a.customData.sampleTableVariant);this._oMasterCharacteristicsSmartTable.setCurrentVariantId(a.customData.micTableVariantId);this._oMasterCharacteristicsSmartTable.applyVariant(a.customData.micTableVariant);this._aSelectedLotItems=a.customData.lotTableSelectedItems;this._aSelectedOperationItems=a.customData.operationTableSelectedItems;this._aSelectedSampleItems=a.customData.sampleTableSelectedItems;this._aSelectedMICItems=a.customData.micTableSelectedItems;}}else if(n===sap.ui.generic.app.navigation.service.NavType.xAppState){var s=a.oSelectionVariant;var t=new Date();var o=24*60*60*1000;t=new Date(t.getFullYear(),t.getMonth(),t.getDate());var b=new Date(t.getTime()+o);var O=new Date(t.getTime()+o*2);var c=t.toISOString();var d=b.toISOString();var e=O.toISOString();if(s.getSelectOption("InspLotEndDateGrp")){s.getSelectOption("InspLotEndDateGrp").forEach(function(j,k){if(j.Low==="1"){s.addSelectOption("InspectionLotEndDate","I","LT",c,null);}else if(j.Low==="2"){s.addSelectOption("InspectionLotEndDate","I","EQ",c,null);}else if(j.Low==="3"){s.addSelectOption("InspectionLotEndDate","I","EQ",d,null);}else if(j.Low==="4"){s.addSelectOption("InspectionLotEndDate","I","EQ",e,null);}else if(j.Low==="5"){s.addSelectOption("InspectionLotEndDate","I","GT",e,null);}});s.removeSelectOption("InspLotEndDateGrp");}var g=s.getSelectOption("InspLotIsTaskListRequired");if(g){g.forEach(function(j,k){if(j.Low==="true"||j.Low==="X"){j.Low="true";}else if(j.Low==="false"||j.Low===""){j.Low="false";}});s.removeSelectOption("InspLotIsTaskListRequired");s.massAddSelectOption("InspLotIsTaskListRequired",g);}a.selectionVariant=s.toJSONString();var h={variantId:"",filterOptions:a.oSelectionVariant.getPropertyNames(),selectionVariant:a.selectionVariant};if(h){var A=this._oFilterBar.getFilterGroupItems(),F=h.filterOptions;this._oFilterBar.setCurrentVariantId(h.variantId);for(var i=0;i<A.length;i++){if(jQuery.inArray(A[i].getName(),F)!==-1){A[i].setPartOfCurrentVariant(true);}}this._oFilterBar.setDataSuiteFormat(h.selectionVariant,true);}this.customDataForCrossApp=h;}}.bind(this));},onAfterRendering:function(){this._oSelectedTable.destroyHeaderToolbar();this._oOperationsTable.destroyHeaderToolbar();this._oPhysicalSampleTable.destroyHeaderToolbar();this._oMasterCharacteristics.destroyHeaderToolbar();},onInspLotSMTableBeforeRebind:function(E){this._oInspectionLotTable.setGrowingThreshold(20);var b=E.getParameter("bindingParams");var r="InspectionLot,InspLotQuantityUnitDecPlaces,InspLotSampleQtyUnitDecPlaces,InspLotContainerUnitDecPlaces";var o={InspectionLotOrigin:"InspectionLotOriginText",InspectionLotType:"InspectionLotTypeText",MatlQualityAuthorizationGroup:'MatlQltyAuthorizationGrpText',BillOfOperationsType:'BillOfOperationsTypeName',BillOfOperationsUsage:'BillOfOperationsUsageDesc'};for(var e in o){if(b.parameters.select.indexOf(e)!==-1){r=r.concat(',',o[e]);}}b.parameters.select=[b.parameters.select,r].join(",");b.parameters.expand="ChPrgsItems,OpPrgsItems,OpCmptItems";},onFilterBarInitialized:function(){if(this.customDataForRefresh){this.updateFilters(this.customDataForRefresh);}if(this.customDataForCrossApp){var a=this._oFilterBar.getFilterGroupItems(),F=this.customDataForCrossApp.filterOptions;this._oFilterBar.setCurrentVariantId(this.customDataForCrossApp.variantId);for(var i=0;i<a.length;i++){if(jQuery.inArray(a[i].getName(),F)!==-1){a[i].setPartOfCurrentVariant(true);}}this._oFilterBar.setDataSuiteFormat(this.customDataForCrossApp.selectionVariant,true);}},onOperationSMTableBeforeRebind:function(E){this._oOperationsTable.setGrowingThreshold(20);var b=E.getParameter("bindingParams");var r="InspectionLot,InspectionOperation,InspCharAcceptedCount,InspCharRejectedCount,InspCharOpenCount,InspOpUsageDecisionValuation";var o={InspectionLotOrigin:"InspectionLotOriginText",InspectionLotType:"InspectionLotTypeText",InspectionLotQuantity:"InspLotQuantityUnitDecPlaces"};for(var e in o){if(b.parameters.select.indexOf(e)!==-1){r=r.concat(',',o[e]);}}b.parameters.select=[b.parameters.select,r].join(",");b.parameters.expand="ChPrgsItemsByOp";},onMtrSmplSMTableBeforeRebind:function(E){this._oPhysicalSampleTable.setGrowingThreshold(20);var b=E.getParameter("bindingParams");var r="InspectionLot,MaterialSample,InspCharAcceptedCount,InspCharRejectedCount,InspCharOpenCount";var o={InspectionLotOrigin:"InspectionLotOriginText",InspectionLotType:"InspectionLotTypeText",InspectionLotQuantity:'InspLotQuantityUnitDecPlaces'};for(var e in o){if(b.parameters.select.indexOf(e)!==-1){r=r.concat(',',o[e]);}}b.parameters.select=[b.parameters.select,r].join(",");b.parameters.expand="ChPrgsItemsByMs";},onMICSMTableBeforeRebind:function(e){this._oMasterCharacteristics.setGrowingThreshold(20);var b=e.getParameter("bindingParams");var r="InspectionSpecificationPlant,InspectionSpecificationText,InspectionSpecification,InspectionSpecificationVersion,"+"InspectionMethod,InspectionMethodPlant,InspectionMethodText,InspectionMethodVersion,ProdnRsceToolCategory,"+"ProductionResourceToolDesc,ProductionResourceTool,InspectorQualification";b.parameters.select=[b.parameters.select,r].join(",");b.parameters.expand="MastCharPgItem";},onUpdateFinished:function(e){var t=e.getParameter("total");if(e.getSource().getId().indexOf("inspectionLotTable")>-1){this.updateTableData(this._oInspectionLotTable,this._aSelectedLotItems);this._aSelectedLotItems=[];}else if(e.getSource().getId().indexOf("operationsTable")>-1){this.updateTableData(this._oOperationsTable,this._aSelectedOperationItems);this._aSelectedOperationItems=[];}else if(e.getSource().getId().indexOf("physicalSampleTable")>-1){this.byId("qrWorkListId-PhysicalSample").setVisible(t>0);this.updateTableData(this._oPhysicalSampleTable,this._aSelectedSampleItems);this._aSelectedSampleItems=[];}else{this.updateTableData(this._oMasterCharacteristics,this._aSelectedMICItems);this._aSelectedMICItems=[];}this.onInspectionLotChange();},updateTableData:function(t,s){t.setGrowingThreshold(20);if(s&&s.length>0){t.getItems().forEach(function(i){if(s.indexOf(i.getBindingContextPath())!==-1){i.setSelected(true);}},this);}},onInspectionLotPress:function(e){var i=e.getSource().getProperty("title"),s="InspectionLot",a="display",p={InspectionLot:i},I=this.getAppData();this.oNavigationHandler.navigate(s,a,p,I);},onMaterialPress:function(e){var m=e.getSource().getProperty("title"),s="Material",a="displayFactSheet",p={Material:m},i=this.getAppData();this.oNavigationHandler.navigate(s,a,p,i);},getAppData:function(){var o=this._oFilterBar.getFilterGroupItems(),a=[];for(var i=0;i<o.length;i++){if(o[i].getVisibleInAdvancedArea()){a.push(o[i].getName());}}var v=this._oFilterBar.getCurrentVariantId();var F=this._oFilterBar.getFilterData();var l=this._oInspectionLotTable.getItems(),O=this._oOperationsTable.getItems(),s=this._oPhysicalSampleTable.getItems(),m=this._oMasterCharacteristics.getItems(),L=this._oInspectionLotSmartTable.fetchVariant(),b=this._oOperationsSmartTable.fetchVariant(),S=this._oPhysicalSampleSmartTable.fetchVariant(),c=this._oMasterCharacteristicsSmartTable.fetchVariant();var I={customData:{displayFilters:a,tabSelectedKey:this._oSelectedTab,lotTableItemsCount:this.getVisibleItemsCount(l,L),lotTableSelectedItems:this._oInspectionLotTable.getSelectedContextPaths(),operationTableItemsCount:this.getVisibleItemsCount(O,b),operationTableSelectedItems:this._oOperationsTable.getSelectedContextPaths(),sampleTableItemsCount:this.getVisibleItemsCount(s,S),sampleTableSelectedItems:this._oPhysicalSampleTable.getSelectedContextPaths(),micTableItemsCount:this.getVisibleItemsCount(m,c),micTableSelectedItems:this._oMasterCharacteristics.getSelectedContextPaths(),filterData:F,variantId:v,lotTableVariant:L,lotTableVariantId:this._oInspectionLotSmartTable.getCurrentVariantId(),operationTableVariant:b,operationTableVariantId:this._oOperationsSmartTable.getCurrentVariantId(),sampleTableVariant:S,sampleTableVariantId:this._oPhysicalSampleSmartTable.getCurrentVariantId(),micTableVariant:c,micTableVariantId:this._oMasterCharacteristicsSmartTable.getCurrentVariantId()}};return I;},getVisibleItemsCount:function(i,v){var c=0;if(v.group){i.forEach(function(I){if(!I.isGroupHeader()){c++;}});return c;}else{return i.length;}},onOperationPress:function(e){var i=e.getSource().getBindingContext().getObject().InspectionLot,o=e.getSource().getProperty("title"),a="display",s="InspectionOperation",p={InspectionLot:i,InspectionOperation:o},I=this.getAppData();this.oNavigationHandler.navigate(s,a,p,I);},navToOtherApp:function(s,a,p){var c=sap.ushell.Container.getService("CrossApplicationNavigation");var h=(c&&c.hrefForExternal({target:{semanticObject:s,action:a},params:p}));if(h){sap.m.URLHelper.redirect(h,false);}else{c.toExternal({target:{shellHash:"#"}});}},onIconTabBarPressed:function(e){var s=e.getSource().getSelectedKey();switch(s){case this.Constants.WorkListTabKey.InspLot:this._oSelectedTab=this.Constants.WorkListTabKey.InspLot;this._oSelectedTable=this._oInspectionLotTable;break;case this.Constants.WorkListTabKey.Operation:this._oSelectedTab=this.Constants.WorkListTabKey.Operation;this._oSelectedTable=this._oOperationsTable;break;case this.Constants.WorkListTabKey.PhysicalSample:this._oSelectedTab=this.Constants.WorkListTabKey.PhysicalSample;this._oSelectedTable=this._oPhysicalSampleTable;break;case this.Constants.WorkListTabKey.MIC:this._oSelectedTab=this.Constants.WorkListTabKey.MIC;this._oSelectedTable=this._oMasterCharacteristics;break;}this.onInspectionLotChange();},onInspectionLotChange:function(){var s=this._oSelectedTable.getSelectedItems(),S=new J();S.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);if(s.length!==0){var o=s[0].getBindingContext().getObject();this._oInspectionLot=o.InspectionLot;S.setData(o);this.getOwnerComponent().setModel(S,"selectedLotModel");this._oOperation=o.InspectionOperation;this.setRecordResultsInspectionLotsModel(s);if(this._oSelectedTable.getMode()==sap.m.ListMode.MultiSelect){this._oMassRecordButton.setEnabled(true);}}else{this.getOwnerComponent().setModel(S,"selectedLotModel");this._oInspectionLot="";this._oOperation="";this.setRecordResultsInspectionLotsModel([]);this._oMassRecordButton.setEnabled(false);}this.getModel("selectedLotModel").setProperty("/selectedTab",this._oSelectedTab);},onWorkListItemPress:function(e){var s=e.getSource();this.setRecordResultsInspectionLotsModel([s]);this.onRecordResults();},onRecordResults:function(){this.NavHelper.navTo(this._oRouter,"recordResults",{fromTab:this._oSelectedTab});},setWorkListData:function(F){this._oMasterCharacteristics.bindItems({path:"/InspectionCharacteristicSet",parameters:{expand:"MastCharPgItem"},template:this.byId("masterCharacteristicsItems").clone(),templateShareable:true,filters:F});},onCreateMessageDialog:function(t,s,m){var i="";if(s==="Success"){i=M.Icon.SUCCESS;}else{i=M.Icon.ERROR;}var c=!!this.getView().$().closest(".sapUiSizeCompact").length;M.show(m,{icon:i,title:t,actions:[M.Action.OK],styleClass:c?"sapUiSizeCompact":""});},setRecordResultsInspectionLotsModel:function(s){var S=new J();S.setDefaultBindingMode(sap.ui.model.BindingMode.OneWay);var a=s.map(function(i){return i.getBindingContext().getObject();});S.setData({items:a,filters:this._oFilterBar.getFilters()});this.getOwnerComponent().setModel(S,"selectedModelForRecording");},_searchFreeText:function(q,F){var o=null;if(q&&F&&F.length>0){var a=F.filter((function(e){return q.length<=this._oFreeTextFieldMap[e];}).bind(this)).map(function(e){return new sap.ui.model.Filter(e,sap.ui.model.FilterOperator.Contains,q);});if(a.length===0){a.push(new sap.ui.model.Filter("InspectionLot",sap.ui.model.FilterOperator.EQ,'0'));}o=new sap.ui.model.Filter(a,false);}var b=null;if(this._oFilterBar.getFilters().length>0){b=new sap.ui.model.Filter(this._oFilterBar.getFilters(),true);}var c=null;if(b&&o){c=new sap.ui.model.Filter([b,o],true);}else if(b){c=b;}else if(o){c=o;}this._oSelectedTable.getBinding("items").filter(c,"Application");},_initSmartTables:function(){this._initInspLotSmartTable();this._initInspLotByOperationSmartTable();this._initInspLotByMtrSmplSmartTable();this._initMasterCharacteristicsSmartTable();},_initInspLotSmartTable:function(){var s=this.byId("inspectionLotSmartTable");var i="InspLotIsStockPostingCompleted,InspectionLotIsSkipped,InspectionLotIsFullInspection,InspLotIsSerialNmbrPossible,NumberOfSerialNumbers,MatlQltyAuthorizationGrpText"+"SmplDrwgProcedIsConfRequired,InspectionDynamicStage,InspectionSeverity,InspectionLotHasPartialLots,InspLotIsAutomUsgeDcsnPossible,InspLotHasConfignSpecification,"+"InspLotIsTaskListRequired,InspLotHasManualSampleSize,InspLotHasMaterialSpec,InspLotDigitalSgntrResultsRecg,InspLotIsBatchRequired,InspectionLotHasUsageDecision,"+"InspectionOperation,InspectionOperationPlant,OperationControlProfile,OperationText,InspectionSubSystem,OperationConfirmation,WorkCenter,InspectionCharacteristic,"+"InspectionCharacteristicStatus,InspectionMethodPlant,InspectionMethod,InspectionSpecificationPlant,InspectionSpecification,InspSpecImportanceCode,InspectionCharacteristicText,"+"InspectorQualification,InspSpecInformationField1,InspSpecInformationField2,InspSpecInformationField3,InspectionSubsetSortKey,Equipment,FunctionalLocation,MaterialSample,"+"InspectionSubsetLongCharKey,InspectionSubsetShortCharKey,InspSubsetLongNumericKey,InspSubsetShortNumericKey,InspectionSubsetDate,InspectionSubsetTime,InspSubsetUsageDcsnCodeGroup,"+"InspSubsetUsageDcsnCode,InspSubsetUsageDcsnValuation,MaterialSampleType,MaterialSampleCategory,StorageLocation,MaterialSampleStorageLocation,MaterialSampleChangedOn,"+"MaterialSampleDrawingLocation,MatlSmplDrawingLocDescription,MaterialSampleDrawingOnDate,MaterialSampleDrawingOnTime,MaterialSampleResponsibleName,InspLotCostCollectorSalesOrder,"+"InspLotCostCollectorSlsOrdItem,StorageBin,InspectionLotStartTime,InspectionLotEndTime,SalesOperationsPlanningOrder,Warehouse,StorageType,InspectionLotOriginText,"+"InspectionLotTypeText,InspLotAcctAssgmtKey,InspLotQuantityUnitDecPlaces,InspLotSampleQtyUnitDecPlaces,InspLotContainerUnitDecPlaces,InspLotIsDocumentationRequired,"+"InspectionLotStartTime,InspCharOpenCount,InspCharAcceptedCount,InspOpOpenCmpltCount,InspCharRejectedCount,InspOpOpenCount,InspOpRjctdCount,InspOpAcceptCount,InspOpAcceptCmpltCount,InspOpRjctdCmpltCount,InspectionLotEndTime,SmplDrawingProcedure,Warehouse,StorageType,StorageBin,BillOfOperationsTypeName,BillOfOperationsUsageDesc,MaterialName,InspLotUsageDecisionCatalog,InspLotRsltRecgStatus";s.setIgnoredFields(i);},_initInspLotByOperationSmartTable:function(){var s=this.byId("inspLotByOperationSmartTable");var i="BatchBySupplier,InspLotIsStockPostingCompleted,InspectionLotIsSkipped,InspectionLotIsFullInspection,InspLotIsSerialNmbrPossible,NumberOfSerialNumbers,"+"SmplDrawingProcedure,SmplDrwgProcedIsConfRequired,InspectionDynamicStage,InspectionSeverity,InspectionLotHasPartialLots,InspLotIsAutomUsgeDcsnPossible,InspLotHasConfignSpecification,"+"InspLotIsTaskListRequired,InspLotHasManualSampleSize,InspLotHasMaterialSpec,InspLotDigitalSgntrResultsRecg,InspLotIsBatchRequired,InspectionLotHasUsageDecision,"+"SalesOrder,InspectionOperation,InspectionOperationPlant,OperationControlProfile,InspectionSubSystem,OperationConfirmation,InspectionCharacteristic,InspectionCharacteristicStatus,"+"InspectionMethodPlant,InspectionMethod,InspectionSpecificationPlant,InspectionSpecification,InspSpecImportanceCode,InspectionCharacteristicText,InspectorQualification,"+"InspSpecInformationField1,InspSpecInformationField2,InspSpecInformationField3,InspectionSubsetSortKey,Equipment,FunctionalLocation,MaterialSample,InspectionSubsetLongCharKey,"+"InspectionSubsetShortCharKey,InspSubsetLongNumericKey,InspSubsetShortNumericKey,InspectionSubsetDate,InspectionSubsetTime,InspSubsetUsageDcsnCodeGroup,InspSubsetUsageDcsnCode,"+"InspSubsetUsageDcsnValuation,MaterialSampleType,MaterialSampleCategory,StorageLocation,MaterialSampleStorageLocation,MaterialSampleChangedOn,MaterialSampleDrawingLocation,"+"MatlSmplDrawingLocDescription,MaterialSampleDrawingOnDate,MaterialSampleDrawingOnTime,MaterialSampleResponsibleName,InspCharAcceptedCount,InspCharRejectedCount,InspCharOpenCount,WorkCenter,"+"GoodsReceiptIsMovedToBlkdStock,InspectionLotHasQuantity,InspectionLotHasPartialLots,InspLotIsDocumentationRequired,InspectionLotApproval,InspLotDigitalSgntrResultsRecg,"+"InspLotDigitalSgntrResultsRecg,InspectionLotIsFullInspection,InspectionLotStartTime,InspectionLotEndTime,BillOfOperationsType,BillOfOperationsGroup,BillOfOperationsUsage,"+"BillOfOperationsVariant,InspSubsetFieldCombination,SmplDrawingProcedure,SmplDrwgProcedIsConfRequired,InspLotSelectionValidFromDate,ManufacturerPartNmbr,MaterialIsBatchManaged,"+"MaterialCompIsSpecialStock,PurchasingOrganization,MatlDocLatestPostgDate,GoodsMovementType,InspectionLotPlant,InspectionLotStorageLocation,Warehouse,StorageType,StorageBin,"+"DeliveryCategory,Route,BillToPartyCountry,SoldToParty,SalesOrganization,MaterialByCustomer,InspLotNmbrAddlRecordedCharc,InspLotNmbrOpenShortTermCharc,InspLotNmbrOpenLongTermCharc,"+"InspectionDynamicStage,InspectionSeverity,CostCenter,SalesOrdStockWBSElement,ProfitCenter,BusinessArea,GLAccount,ControllingArea,CompanyCode,SerialNumberProfile,"+"InspOpUsgeDcsnDynValuation,InspLotDigitalSgntrInUsgeDcsn,InspOpUsageDecisionCatalog,MaterialName,InspCharAcceptedCount,InspCharRejectedCount,InspCharOpenCount,"+"InspectionLotStartTime,InspectionLotEndTime,Warehouse,StorageType,StorageBin,InspectionLotOriginText,InspectionLotTypeText,InspLotQuantityUnitDecPlaces,"+"InspLotUsageDecisionCodeGroup,InspectionLotUsageDecisionCode,SalesOperationsPlanningOrder,InspLotRsltRecgStatus";s.setIgnoredFields(i);},_initInspLotByMtrSmplSmartTable:function(){var s=this.byId("inspLotByMtrSmplSmartTable");var i="BatchBySupplier,InspLotIsStockPostingCompleted,InspectionLotIsSkipped,InspectionLotIsFullInspection,InspLotIsSerialNmbrPossible,"+"NumberOfSerialNumbers,SmplDrawingProcedure,SmplDrwgProcedIsConfRequired,InspectionDynamicStage,InspectionSeverity,"+"InspectionLotHasPartialLots,InspLotIsAutomUsgeDcsnPossible,InspLotHasConfignSpecification,InspLotIsTaskListRequired,"+"InspLotHasManualSampleSize,InspLotHasMaterialSpec,InspLotDigitalSgntrResultsRecg,InspLotIsBatchRequired,InspectionLotHasUsageDecision,"+"SerialNumberProfile,MaterialIsBatchManaged,PurchasingOrganization,GoodsMovementType,ManufacturerPartNmbr,GoodsReceiptIsMovedToBlkdStock,"+"InspectionLotHasQuantity,Warehouse,StorageType,StorageBin,MaterialCompIsSpecialStock,InspectionLotStorageLocation,SoldToParty,DeliveryCategory,"+"Route,BillToPartyCountry,SalesOrganization,MaterialByCustomer,BillOfOperationsType,BillOfOperationsGroup,BillOfOperationsUsage,BillOfOperationsVariant,"+"InspLotNmbrAddlRecordedCharc,InspLotNmbrOpenShortTermCharc,InspLotNmbrOpenLongTermCharc,CostCenter,SalesOrdStockWBSElement,QualityCostCollector,"+"ProfitCenter,BusinessArea,GLAccount,ControllingArea,CompanyCode,InspLotDigitalSgntrInUsgeDcsn,WorkCenter,InspLotUsageDecisionCodeGroup,"+"InspectionLotUsageDecisionCode,StorageLocation,InspectionOperation,InspectionOperationPlant,OperationControlProfile,InspectionSubSystem,"+"OperationConfirmation,OperationText,InspectionCharacteristic,InspectionCharacteristicStatus,InspectionMethodPlant,InspectionMethod,"+"InspectionSpecificationPlant,InspectionSpecification,InspSpecImportanceCode,InspectionCharacteristicText,InspectorQualification,"+"InspSpecInformationField1,InspSpecInformationField2,InspSpecInformationField3,InspectionSubsetSortKey,Equipment,FunctionalLocation,"+"InspectionSubsetLongCharKey,InspectionSubsetShortCharKey,InspSubsetLongNumericKey,InspSubsetShortNumericKey,InspectionSubsetDate,"+"InspectionSubsetTime,InspSubsetUsageDcsnCodeGroup,InspSubsetUsageDcsnCode,InspSubsetUsageDcsnValuation,InspCharAcceptedCount,"+"InspCharRejectedCount,InspCharOpenCount,InspectionLotOriginText,InspectionLotTypeText,InspLotAcctAssgmtKey,InspLotQuantityUnitDecPlaces,"+"InspLotIsDocumentationRequired,InspSubsetFieldCombination,SalesOperationsPlanningOrder,MatlDocLatestPostgDate,MaterialName,"+"InspCharCount,InspLotRsltRecgStatus";s.setIgnoredFields(i);},onAssignedFiltersChanged:function(e){if(this._oStatusText&&this._oFilterBar){var t=this._oFilterBar.retrieveFiltersWithValuesAsText();this._oStatusText.setText(t);}},_initMasterCharacteristicsSmartTable:function(){var s=this.byId("masterCharacteristicsSmartTable");var i="InspCharCount,InspectionOperation,AccountAssignmentCategory,AccountingDocumentType,Batch,BatchBySupplier,BatchStorageLocation,BillOfOperationsGroup,BillOfOperationsType,BillOfOperationsUsage,"+"BillOfOperationsVariant,BillToPartyCountry,BusinessArea,CompanyCode,ControllingArea,CostCenter,Customer,DeliveryCategory,DeliveryDocument,DeliveryDocumentItem,Equipment,FunctionalLocation,"+"GLAccount,GoodsMovementType,GoodsReceiptIsMovedToBlkdStock,InspectionCharacteristic,InspectionCharacteristicStatus,InspectionCharacteristicText,InspectionDynamicStage,InspectionLot,"+"InspectionLotActualQuantity,InspectionLotApproval,InspectionLotChangeDate,InspectionLotChangedBy,InspectionLotChangeTime,InspectionLotContainer,InspectionLotContainerUnit,InspectionLotCreatedBy,"+"InspectionLotCreatedOn,InspectionLotCreatedOnTime,InspectionLotDefectiveQuantity,InspectionLotEndDate,InspectionLotEndTime,InspectionLotHasPartialLots,InspectionLotHasQuantity,InspectionLotHasUsageDecision,"+"InspectionLotIsFullInspection,InspectionLotIsSkipped,InspectionLotObjectText,InspectionLotOrigin,InspectionLotPlant,InspectionLotQualityScore,InspectionLotQuantity,InspectionLotQuantityUnit,"+"InspectionLotSampleQuantity,InspectionLotSampleUnit,InspectionLotScrapRatio,InspectionLotStartDate,InspectionLotStartTime,InspectionLotStorageLocation,InspectionLotText,InspectionLotType,InspectionLotUsageDecidedBy,"+"InspectionLotUsageDecidedOn,InspectionLotUsageDecisionCode,InspectionOperationPlant,InspectionSeverity,InspectionSubsetDate,InspectionSubsetLongCharKey,InspectionSubsetShortCharKey,"+"InspectionSubsetSortKey,InspectionSubsetTime,InspectionSubSystem,InspectorQualification,InspLotAcctAssgmtKey,InspLotBatchTransferredTo,InspLotCreatedOnLocalDate,InspLotCostCollectorSlsOrdItem,InspLotCreatedOnLocalTime,"+"InspLotDigitalSgntrInUsgeDcsn,InspLotCostCollectorSalesOrder,InspLotDigitalSgntrResultsRecg,InspLotExternalNumber,InspLotHasConfignSpecification,InspLotHasManualSampleSize,InspLotHasMaterialSpec,InspLotIsAutomUsgeDcsnPossible,"+"InspLotIsBatchRequired,InspLotIsDocumentationRequired,InspLotIsSerialNmbrPossible,InspLotIsStockPostingCompleted,InspLotIsTaskListRequired,InspLotMaterialPostedTo,InspLotNmbrAddlRecordedCharc,InspLotNmbrOpenLongTermCharc,"+"InspLotNmbrOpenShortTermCharc,InspLotQtyDestroyed,InspLotQtyInspected,InspLotQtyReturnedToSupplier,InspLotQtyToAnotherMaterial,InspLotQtyToBePosted,InspLotQtyToBlocked,InspLotQtyToFree,InspLotQtyToOtherStock,InspLotQtyToReserves,"+"InspLotQtyToSample,InspLotQtyToScrap,InspLotQtyToSpecialStock,InspLotSelectionValidFromDate,InspLotSmplQtyForLongTermChar,InspLotUsageDecisionCatalog,InspLotUsageDecisionChangedBy,InspLotUsageDecisionChangedOn,"+"InspLotUsageDecisionCodeGroup,InspLotUsageDecisionLevel,InspLotUsageDecisionTime,InspLotUsageDecisionValuation,InspLotUsgeDcsnChangedTime,InspLotUsgeDcsnDynValuation,InspLotUsgeDcsnFollowUpAction,InspLotUsgeDcsnSelectedSet,"+"InspSpecImportanceCode,InspSpecInformationField1,InspSpecInformationField2,InspSpecInformationField3,InspSubsetLongNumericKey,InspSubsetShortNumericKey,InspSubsetUsageDcsnCode,InspSubsetUsageDcsnCodeGroup,InspSubsetUsageDcsnValuation,"+"Manufacturer,ManufacturerPartNmbr,ManufacturingOrder,Material,MaterialByCustomer,MaterialCompIsSpecialStock,MaterialDocument,MaterialDocumentItem,MaterialDocumentYear,MaterialIsBatchManaged,MaterialName,MaterialRevisionLevel,MaterialSample,"+"MaterialSampleCategory,MaterialSampleChangedOn,MaterialSampleCount,MaterialSampleDrawingLocation,MaterialSampleDrawingOnDate,MaterialSampleDrawingOnTime,MaterialSampleResponsibleName,MaterialSampleStorageLocation,MaterialSampleType,"+"MatlDocLatestPostgDate,MatlQualityAuthorizationGroup,MatlSmplDrawingLocDescription,NumberOfSerialNumbers,ObjectInternalID,NetworkActivityInternalID,OperationConfirmation,OperationControlProfile,OperationText,Plant,ProductionVersion,"+"ProfitCenter,PurchasingDocument,PurchasingDocumentItem,PurchasingOrganization,QltyCostOrderForAppraisalCost,Route,SalesOperationsPlanningOrder,SalesOrder,SalesOrderItem,SalesOrdStockWBSElement,SalesOrganization,ScheduleLine,"+"SerialNumberProfile,SmplDrawingProcedure,SmplDrwgProcedIsConfRequired,SoldToParty,StorageBin,StorageLocation,StorageType,Supplier,Warehouse,WorkCenter,InspLotAcctAssgmtKey,BillOfOperations,InspectionMethod,InspectionMethodPlant,"+"InspectionMethodVersion,InspectionSpecification,InspectionSpecificationPlant,InspectionSpecificationVersion,Operation,ProdnRsceToolCategory,ProductionResourceTool,InspectionMethodText,InspectionSpecificationText,InspLotRsltRecgStatus";s.setIgnoredFields(i);},_initFreeTextFieldsMetadata:function(){var m={};m['InspectionLot']=12;m['InspectionLotPlant']=4;m['InspectionLotObjectText']=40;m['InspectionLotCreatedBy']=12;m['InspectionLotChangedBy']=12;m['Customer']=10;m['Supplier']=10;m['Manufacturer']=10;m['Material']=40;m['MaterialName']=40;m['Batch']=10;m['MaterialDocument']=10;m['SalesOrder']=10;m['DeliveryDocument']=10;m['SoldToParty']=10;m['CostCenter']=10;m['InspectionOperation']=4;m['OperationText']=40;m['WorkCenter']=8;m['InspectionOperationPlant']=4;m['InspectionLotText']=40;m['SalesOrdStockWBSElement']=8;m['MaterialSample']=12;m['InspectionSpecification']=8;m['InspectionSpecificationPlant']=4;m['InspectionSpecificationText']=40;m['InspectionMethod']=8;m['InspectionMethodPlant']=4;m['InspectionMethodSearchField']=40;m['InspectionSpecificationSrchTxt']=40;this._oFreeTextFieldMap=m;}});});
