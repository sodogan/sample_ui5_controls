/*
 * Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["i2d/qm/inspresults/records1/util/NumberFormat","sap/ui/core/format/FileSizeFormat"],function(N,F){"use strict";return{oLotNumberOfDays:function(e){this._oResourceBundle=this.getResourceBundle();if(!e||typeof e==="string"){return this._oResourceBundle.getText("QM_LOTENDDATE_DATE_NOT_AVIL");}var t;var o=24*60*60*1000;var T=new Date(0).getTimezoneOffset()*60*1000;e=new Date(e.getTime()+T);var a=new Date();e=new Date(e.getFullYear(),e.getMonth(),e.getDate());a=new Date(a.getFullYear(),a.getMonth(),a.getDate());var n=parseInt((e.getTime()-a.getTime())/(o),10);switch(n){case 0:t=this._oResourceBundle.getText("QM_LOTENDDATE_TODAY");break;case 1:t=this._oResourceBundle.getText("QM_LOTENDDATE_TOMORROW");break;case-1:t=this._oResourceBundle.getText("QM_LOTENDDATE_YESTERDAY");break;default:if(n>0){t=this.getResourceBundle().getText("QM_LOTENDDATE_DAYSTOGO",[n]);}else{t=this.getResourceBundle().getText("QM_LOTENDDATE_DAYSAGO",[Math.abs(n)]);}}return t;},lotEndDateStatus:function(e){if(!e||typeof e==="string"){return"None";}var o=24*60*60*1000;var T=new Date(0).getTimezoneOffset()*60*1000;e=new Date(e.getTime()+T);var t=new Date();e=new Date(e.getFullYear(),e.getMonth(),e.getDate());t=new Date(t.getFullYear(),t.getMonth(),t.getDate());var n=parseInt((e.getTime()-t.getTime())/(o),10);var s;switch(n){case 0:s="None";break;case 1:s="None";break;case-1:s="Error";break;default:if(n>0){s="None";}else{s="Error";}}return s;},micColoumConcatenation:function(t,i,p,v){if(t&&i&&p&&v){return t+" ("+i+"/"+p+"/"+v+")";}else{return" ";}},methodColoumConcatenation:function(t,i,p,v){if(t&&i&&p&&v){return t+" ("+i+"/"+p+"/"+v+")";}else{return" ";}},textIdConcatenation:function(t,i){if(t&&i){return t+" ("+i+")";}else{return" ";}},codeValuation:function(v){this._oResourceBundle=this.getResourceBundle();var V;switch(v){case"A":V=this._oResourceBundle.getText("QM_ACCEPTED");break;case"R":V=this._oResourceBundle.getText("QM_REJECTED");break;default:V="";}return V;},codeValuationStatus:function(v){var V;switch(v){case"A":V="Success";break;case"R":V="Error";break;default:V="None";}return V;},textWithBrackets:function(t,T){t=t||"";T=T||"";if(!T){return t;}return this.getResourceBundle().getText("QM_CHAR_DETAIL_HEADER_TITLE",[t,T]);},readSaveMessages:function(c){return this.getResourceBundle().getText("QM_RR_TOKEN_MESSAGE",[c]);},returnInspSpecIsLongTermInspection:function(t){if(t==='1'){return this._oResourceBundle.getText("QM_LONGTERM_INSPECTION");}return'';},returnInspSpecRecordingType:function(t){if(t==='1'){return this._oResourceBundle.getText("QM_SINGLE_RESULT");}else if(t==='2'){return this._oResourceBundle.getText("QM_NO_CHARAC_REC");}return this._oResourceBundle.getText("QM_SUMM_RECORDING");},returnInspSpecCharcCategory:function(t){if(t==='1'){return this._oResourceBundle.getText("QM_REQUIRED_CHAR");}else if(t==='2'){return this._oResourceBundle.getText("QM_OPTIONAL_CHAR");}return'';},returnInspSpecResultCalculation:function(t){if(t==='1'){return this._oResourceBundle.getText("QM_CALC_CHARAC");}else if(t==='2'){return this._oResourceBundle.getText("QM_INPUT_PROCESSING");}return'';},concatInspect:function(i,s,S){i=i||"";s=s||"";S=S||"";return i&&s&&S?this.getResourceBundle().getText("QM_CHAR_DETAIL_INSPECT",[i,s,S]):i;},charDetailsState:function(v){v=v&&v.toUpperCase();switch(v){case'R':case false:case'false':v='Error';break;case'A':case true:case'true':v='Success';break;default:v='None';break;}return v;},rrGroupCodeDisplay:function(c,C){if(c){return c+" - "+C;}return"";},charDetailsResultFlag:function(v){v=v&&v.toUpperCase();switch(v){case'A':v="sap-icon://accept";break;case'R':v="sap-icon://decline";break;default:v="";}return v;},valuationResultFlag:function(v){v=v&&v.toUpperCase();switch(v){case'A':v="sap-icon://accept";break;case'R':v="sap-icon://decline";break;default:v="";}return v;},valuationStatus:function(v,V,i){var s=v;if(i){V=V&&V.toUpperCase();switch(V){case'A':case'R':s=this._oResourceBundle.getText("QM_RESULT_VALUATED");break;default:s=this._oResourceBundle.getText("QM_FIELD_PROCESSED");}}return s;},charDetailsSpec:function(i,l,u,h,a,U,s,d){var I=i==="1";var S="";if(I){U=U||"";if(h&&a){S=this.getResourceBundle().getText("QM_CHAR_DETAIL_SPEC_VALUE",[this.formatter.quantityFormatter(l,d),this.formatter.quantityFormatter(u,d),U]);}else if(h){S=this.getResourceBundle().getText("QM_CHAR_DETAIL_GE",[this.formatter.quantityFormatter(l,d),U]);}else if(a){S=this.getResourceBundle().getText("QM_CHAR_DETAIL_LE",[this.formatter.quantityFormatter(u,d),U]);}}else{S=s||"";}return S;},concatInspectResultsLabel:function(i,I,b,a,u){var w=!u;var c=this.getResourceBundle().getText("QM_CODEGROUP_CODE_TITLE");var v=this.getResourceBundle().getText("QM_CHAR_RESULT_VALUATION");var m=this.getResourceBundle().getText("QM_RR_MEAN_VALUE");var s=this.getResourceBundle().getText("QM_RR_SINGLE_VALUES");var r="";if(I){if(b){r=c;}else{r=v;}}else{if(a){var R=i?m:s;r=w?R:this.getResourceBundle().getText("QM_RR_DETAIL_FIELD_BRACKETS",[R,u]);}else{r=v;}}var f=this.formatter||this;return f.concatColon(r);},toStandardNumber:function(n){if(typeof n==="string"){var f=N.getFloatInstance();var d=f.oFormatOptions.decimalSeparator;if(d===','){if(n.indexOf(".")>0){n=n.replace(/\./g,"");}else if(n.indexOf("\ ")>0){n=n.replace(/\ /g,"");}n=n.replace(/\,/g,".");}}return n;},recordResultsInlineMeanValue:function(m,d){if(m===""){return m;}var f=N.getFloatInstance({decimals:d});return f.format(m);},characDetailMeanValue:function(m,d,u){var f=N.getFloatInstance({decimals:d});m=Number(m);var t=f.format(m);u=u||"";u=t?u:"";return this.getResourceBundle().getText("QM_CHAR_DETAIL_UNIT",[t,u]);},recordResultsInlineMeanValueUnit:function(m,u,i){if(m===""){return"";}var I=i==="0";u=u||"";return I?"":u;},fillZeroFront:function(v,l){return new Array(l-v.length+1).join("0")+v;},dateTimeFormatter:function(t){if(!t||t.ms===0){return"";}var p;var T=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyTimeFormat();switch(T){case"0":p="HH:mm:ss";break;case"1":case"2":p="hh:mm:ss a";break;case"3":case"4":p="KK:mm:ss a";break;default:p="HH:mm:ss";}var o=sap.ui.core.format.DateFormat.getTimeInstance({pattern:p});var a=new Date(0).getTimezoneOffset()*60*1000;var f=o.format(new Date(t.ms+a));if(T==="2"||T==="4"){f=f.toLowerCase();}return f;},dateFormatter:function(d){if(!d){return"";}if(typeof d==="string"){return d;}var p;var D=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat();switch(D){case"1":p="dd.MM.yyyy";break;case"2":p="MM/dd/yyyy";break;case"3":p="MM-dd-yyyy";break;case"4":p="yyyy.MM.dd";break;case"5":p="yyyy/MM/dd";break;case"6":p="yyyy-MM-dd";break;case"7":case"8":case"9":case"A":case"B":case"C":default:p="yyyy.MM.dd";}var o=sap.ui.core.format.DateFormat.getDateInstance({pattern:p});var f="";var T=new Date(0).getTimezoneOffset()*60*1000;f=o.format(new Date(d.ms+T));if(d){f=o.format(d);}return f;},quantityFormatter:function(q,d){var f=this.formatter||this;if(this._bIsInitDone){q=f.toStandardNumber(q);}var o=N.getFloatInstance({decimals:d});if(typeof(q)==="string"){q=q.trim();if(q.indexOf(",")!==-1){q=f.toStandardNumber(q);}}return o.format(q);},concatColon:function(t){return t+":";},inspectedStatus:function(m){var r=this.getResourceBundle();if(m===""){return"None";}if(m===r.getText("QM_RESULT_NOT_VALID_INSPECTED")){return"Error";}return"Warning";},};});
